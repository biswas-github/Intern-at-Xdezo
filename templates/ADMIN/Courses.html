{% extends "base.html" %}
{% block extrastyles %}
{% endblock extrastyles %}
{% block extrajs %}
{% endblock extrajs %}
{% block content %}
    <!-- Page header -->
    <header>
        <div class="d-flex justify-content-between align-items-center">
            <div>
                <h1 class="page-title">Add new Course</h1>
                <p class="text-muted mb-0">
                    <a class="text-muted"
                       style="text-decoration: none"
                       href="{% url 'AdminDashboard' %}">DataManagement</a>/ <a style="text-decoration: none"
    class="text-muted"
    href="{% url 'ViewCourses' %}">Courses</a> / <a class="text-primary">Add  Courses</a>
                </p>
            </div>
        </div>
    </header>
    <!-- adding the students -->
    <!-- <h4 class="d-block d-lg-block d-sm-block">Adding students</h4> -->
    <!-- form -->
    <div class="row">
        <div class="col-12 col-sm-12 col-lg-12 border rounded mb-5 mb-sm-5 ">
            <div class="card-body ">
                <!-- .form -->
                <form method="post">
                    {% csrf_token %}
                    <!-- .fieldset -->
                    <fieldset>
                        <legend>Register New Course</legend>
                        <!-- .form-group -->
                        <div class="form-group">
                            <label for="lbl1">
                                Tittle
                                <abbr title="Required">*</abbr>
                            </label>
                            <input type="text"
                                   class="form-control placeholder-shown"
                                   id="lbl1"
                                   placeholder="Enter Course Tittle"
                                   name="title"
                                   required>
                        </div>
                        <!-- /.form-group -->
                        <!-- .form-group -->
                        <div class="form-group">
                            <label for="lbl1">
                                Course CODE
                                <abbr title="Required">*</abbr>
                            </label>
                            <input type="text"
                                   class="form-control placeholder-shown"
                                   id="lbl1"
                                   placeholder="eg: python 101"
                                   name="code"
                                   required>
                        </div>
                        <!-- /.form-group -->
                        <!-- .form-group -->
                        <div class="form-group">
                            <label for="lbl1">
                                FEE
                                <abbr title="Required">*</abbr>
                            </label>
                            <input type="number"
                                   class="form-control placeholder-shown"
                                   id="lbl1"
                                   placeholder="16 k,16000"
                                   name="fee"
                                   min="500"
                                   required>
                        </div>
                        <!-- /.form-group -->
                        <!-- .form-group -->
                        <div class="form-group">
                            <label for="lbl2">
                                Description
                                <abbr title="Required">*</abbr>
                            </label>
                            <textarea class="form-control placeholder-shown"
                                      id="lbl2"
                                      rows="4"
                                      placeholder="Enter the description"
                                      name="Description"
                                      required></textarea>
                        </div>
                        <!-- /.form-group -->
                        <!-- .form-group -->
                        <div class="form-group">
                            <label for="lbl3">
                                Default duration weeks
                                <abbr title="Required">*</abbr>
                            </label>
                            <input class="form-control placeholder-shown"
                                   id="lbl2"
                                   placeholder="Default duration weeks: eg : 2, 4 ,8 "
                                   name="Duration"
                                   type="number"
                                   min="0"
                                   required>
                        </div>
                        <!-- /.form-group -->
                        <!-- select-element -->
                        <button type="submit"
                                class="btn btn-outline-primary d-flex justify-content-center w-100">Add Course</button>
                    </fieldset>
                    <!-- /.fieldset -->
                </form>
                <!-- /.form -->
            </div>
        </div>
    </div>
    <!-- ./students add -->
{% endblock content %}
{% block bottomjs %}
    <script>
document.addEventListener("DOMContentLoaded", function() {
    // 1. Define the specific Sidebar Link we want to highlight
    // We let Django generate the string for us
    const targetUrl = "{% url 'ViewCourses' %}";

    // 2. Find the <a> tag in the sidebar that matches this URL
    // We search specifically inside #stacked-menu
    const activeLink = document.querySelector(`#stacked-menu .menu-link[href="${targetUrl}"]`);

    if (activeLink) {
        // 3. Highlight the Link (Students)
        activeLink.classList.add('active');

        // 4. Highlight the <li> wrapper
        const parentItem = activeLink.closest('.menu-item');
        if (parentItem) {
            parentItem.classList.add('has-active');
        }

        // 5. Open the Parent Dropdown (Data Management)
        // Find the <ul> (menu) holding this link
        const parentMenu = activeLink.closest('ul.menu');
        if (parentMenu) {
            // Find the <li> (Data Management) holding that <ul>
            const grandParent = parentMenu.closest('.menu-item.has-child');
            if (grandParent) {
                // 'has-open' expands the menu, 'has-active' highlights the folder icon
                grandParent.classList.add('has-active', 'has-open');
            }
        }
    }
});
    </script>
{% endblock bottomjs %}
